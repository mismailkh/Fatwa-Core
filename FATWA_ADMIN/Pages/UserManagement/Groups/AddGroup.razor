@page "/save-user-group"
@page "/save-user-group/{GroupId}/{IsView:bool}"
@using FATWA_DOMAIN.Models
@using FATWA_DOMAIN.Models.AdminModels.UserManagement
@using FATWA_DOMAIN.Models.ViewModel.AdminVM.UserManagement
@using static FATWA_GENERAL.Helper.Enum;
@using static FATWA_DOMAIN.Enums.GeneralEnums;
@using Syncfusion.Blazor.Navigations;
@layout MainLayout
<!--<History Author = "Nabeel ur Rehman" Date="2022-07-21" Version="1.0" Branch="master"> Adding/Updating new Group and Assign/Unassign Role and users to it.</History>-->
<!--<History Author = "Attique ur Rehman" Date="14-12-23" Version="1.0" Branch="master"> Code optimization + Adding/Updating new Group and Assign/Unassign Permissions/ Removed Roles </History>-->
<!--<History Author = "Attique ur Rehman" Date="18-feb-24" Version="2.0" Branch="master"> Fetch userlist with assign, unassigned group , make page dynamic for Edit/View/Add/ groups </History>-->
<!--<History Author = "Ammaar Naveed" Date="2024-03-12" Version="2.0" Branch="master"> UI upgradation for breadcrumbs bar </History>-->
<!--<History Author = "Ammaar Naveed" Date="2024-04-21" Version="2.0" Branch="master"> UI upgradation for Permissions Grid - Shifted to SyncFusion. Claims Refined </History>-->


<PageTitle>
    @(IsView ?
        translationState.Translate("View_Group_Details")
        : (GroupId == null ?
        translationState.Translate("Create_Group")
        : translationState.Translate("Update_Group")))
</PageTitle>
@if (loginState.ClaimList.Any(x => x.Value == "Admin.Permissions.Menu.UMS"))
{
    <div class="row breadcrumbBar justify-content-center align-items-center pb-3">
        <div class="col-md-6">
            <div class="row no-gutters">
                <RadzenBreadCrumb>
                    <RadzenBreadCrumbItem Path="/Index" Text="@translationState.Translate("Home")" />
                    <RadzenBreadCrumbItem Path="/groups" Text="@translationState.Translate("Groups")" />
                    <RadzenBreadCrumbItem Text="@(GroupId == null ? translationState.Translate("Create_Group") : translationState.Translate("Update_Group"))" />
                </RadzenBreadCrumb>
            </div>
        </div>
        <div class="col-md-6 d-flex justify-content-end">
            <div class="backtoDashboard">
                <RadzenButton ButtonStyle="ButtonStyle.Secondary"
                              Size="ButtonSize.Small"
                              title="@translationState.Translate("Go_Back_HomeScreen")"
                              class="returnBtn"
                              Icon="home" Click="@GoBackHomeScreen" />
            </div>
        </div>
    </div>
    <div class="row TitleBar justify-content-left align-items-center py-4 pt-5">
        <div class="col-md-6">
            <div class="row no-gutters">
                <RadzenHeading Size="H1" class="pageTitle"
                               Text="@(IsView ?
                        translationState.Translate("View_Group_Details")
                        : (GroupId == null ?
                            translationState.Translate("Create_Group")
                            : translationState.Translate("Update_Group")))" />
            </div>
        </div>
        <div class="col-md-6 d-flex justify-content-end ">
        </div>
    </div>
    <RadzenCard Style="border-radius: 8px;">
        <RadzenTemplateForm @ref="groupForm" Data="@Group" Visible="@(Group != null)" TItem="FATWA_DOMAIN.Models.AdminModels.UserManagement.Group" Submit="@(GroupId == null ? SaveUmsUserGroup : UpdateUmsUserGroup)">
            <ChildContent>
                <div class="col-12 pt-2">
                    <div class="row">
                        <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                            <div class="form-group">
                                <RadzenLabel Text="@(translationState.Translate("User_Name_English") + " *")" Component="User_Name_English" />
                                <RadzenTextBox Disabled="IsView" class="flex-grow-1" Placeholder="@translationState.Translate("User_Name_English")" @bind-Value="@Group.Name_En" Name="User_Name_English" />
                                <RadzenRegexValidator Component="User_Name_English" Text="@translationState.Translate("Only_English_Characters_Are_Allowed")" Pattern="@RegexPatterns.EnglishPattern" />
                                <RadzenRequiredValidator Component="User_Name_English" Text="@translationState.Translate("Required_Field")" />
                                <RadzenLengthValidator Component="User_Name_English" Max="90" Text="@translationState.Translate("Max_Ninety_Characters")" />
                            </div>
                        </div>
                        <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                            <div class="form-group">
                                <RadzenLabel Text="@(translationState.Translate("User_Name_Arabic") + " *")" Component="User_Name_Arabic" />
                                <RadzenTextBox Disabled="IsView" class="flex-grow-1" Placeholder="@translationState.Translate("User_Name_Arabic")" @bind-Value="@Group.Name_Ar" Name="User_Name_Arabic" />
                                <RadzenRegexValidator Component="User_Name_Arabic" Text="@translationState.Translate("Only_Arabic_Characters_Are_Allowed")" Pattern="@RegexPatterns.ArabicPattern" />
                                <RadzenRequiredValidator Component="User_Name_Arabic" Text="@translationState.Translate("Required_Field")" />
                                <RadzenLengthValidator Component="User_Name_Arabic" Max="90" Text="@translationState.Translate("Max_Ninety_Characters")" />
                            </div>
                        </div>

                        <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                            <div class="form-group">
                                <RadzenLabel Text="@(translationState.Translate("Description") + " (" + translationState.Translate("English") + ")" + " *")" Component="Description_En" />
                                <RadzenTextArea Disabled="IsView" class="flex-grow-1" Placeholder="@translationState.Translate("Group_Description")" @bind-Value="@Group.Description_En" Name="Description_En" />
                                <RadzenRegexValidator Component="Description_En" Text="@translationState.Translate("Only_English_Characters_Are_Allowed")" Pattern="@RegexPatterns.EnglishPattern" />
                                <RadzenRequiredValidator Component="Description_En" Text="@translationState.Translate("Required_Field")" />
                                <RadzenLengthValidator Component="Description_En" Max="500" Text="@translationState.Translate("Max_Five_Hundred_Characters")" />
                            </div>
                        </div>
                        <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                            <div class="form-group">
                                <RadzenLabel Text="@(translationState.Translate("Description") + " (" + translationState.Translate("Arabic") + ")" + " *")" Component="Description_Ar" />
                                <RadzenTextArea Disabled="IsView" class="flex-grow-1" Placeholder="@translationState.Translate("Group_Description")" @bind-Value="@Group.Description_Ar" Name="Description_Ar" />
                                <RadzenRegexValidator Component="Description_Ar" Text="@translationState.Translate("Only_Arabic_Characters_Are_Allowed")" Pattern="@RegexPatterns.ArabicPattern" />
                                <RadzenRequiredValidator Component="Description_Ar" Text="@translationState.Translate("Required_Field")" />
                                <RadzenLengthValidator Component="Description_Ar" Max="500" Text="@translationState.Translate("Max_Five_Hundred_Characters")" />
                            </div>
                        </div>

                        <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                            <div class="form-group">
                                <RadzenLabel Text="@(translationState.Translate("Group_Type") + " *")" Component="Group_Type" />
                                <RadzenDropDown Data="@groupAccessTypes"
                                                TextProperty="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "CustomTextEn" : "CustomTextAr")"
                                                ValueProperty="GroupTypeId"
                                                Placeholder="@translationState.Translate("Select")"
                                                Style="display:block;"
                                @bind-Value="Group.GroupTypeId"
                                                Disabled="IsView"
                                                Name="Group_Type"
                                                Change="ShowPermission" />
                                <RadzenRequiredValidator DefaultValue="0" Component="Group_Type" Text="@translationState.Translate("Required_Field")" />
                            </div>
                        </div>
                    </div>
                </div>
            </ChildContent>
        </RadzenTemplateForm>

        <div class="col-12 pt-4 ">
            <SfTab ID="Tab" EnablePersistence="true" OverflowMode="OverflowMode.Scrollable" LoadOn="ContentLoad.Dynamic" ScrollStep="200">
                <TabItems>
                    @if (!IsView)
                    {
                        <TabItem>
                            <ContentTemplate>
                                <RadzenCard>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <RadzenTextBox Placeholder="@translationState.Translate("Grid_Search")" style="display: block; margin-bottom: 10px; width: 100%"
                                                           Name="Textbox0"
                                            @oninput="@(async(args) => { await grid0.GoToPage(0);await OnSearchInput($"{args.Value}");})" />
                                        </div>

                                        <div class="col-md-8 text-right-custom-gridcolumn">
                                        </div>
                                    </div>
                                    <RadzenDataGrid EmptyText="@translationState.Translate("No_record_found")"
                                    @ref="grid0"
                                                    AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                    AllowFiltering="false"
                                                    FilterMode="Radzen.FilterMode.Advanced"
                                                    AllowPaging="true"
                                                    AllowSorting="true"
                                                    ColumnWidth="230px"
                                                    SelectionMode="DataGridSelectionMode.Multiple"
                                                    Data="@UMSUsersFilteredList"
                                                    TItem="UserListGroupVM"
                                                    PageSize="@loginState.PageSize"
                                                    PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                    @bind-Value="SelectUsers"
                                                    Count="@(UMSUsersFilteredList != null ? UMSUsersFilteredList.Count() : 0)"
                                                    PageSizeText="@translationState.Translate("Items_Per_Page")"
                                                    PageSizeOptions="@systemSettingState.Page_Size_Options"
                                                    PagingSummaryFormat="@(translationState.PageSummaryFormat != null ? translationState.PageSummaryFormat : "")"
                                                    ShowPagingSummary="true">
                                        <Columns>
                                            @if (!IsView)
                                            {
                                                <RadzenDataGridColumn TItem="UserListGroupVM" Property="FirstNameEnglish" Width="40px" Sortable="false" TextAlign="TextAlign.Center" Filterable="false">
                                                    <HeaderTemplate>
                                                        <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(GroupUsersList.Any(i => SelectUsers != null && SelectUsers.Contains(i)))"
                                                                        Change="@(args => SelectUsers = args ? GroupUsersList.ToList() : null)" />
                                                    </HeaderTemplate>
                                                    <Template Context="data">
                                                        <RadzenCheckBox Disabled="IsView" TriState="false" Value="@(SelectUsers != null && SelectUsers.Contains(data))"
                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid0.SelectRow(data); }}) />
                                                    </Template>
                                                </RadzenDataGridColumn>
                                            }
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Title="@translationState.Translate("Full_Name")" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "FullName_En" : "FullName_Ar")" Width="150px" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "SectorTypeName_En" : "SectorTypeName_Ar")" Title="@translationState.Translate("Sector_Name")" Width="250px" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Designation_En" : "Designation_Ar")" Title="@translationState.Translate("Designation")" Width="150px" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Role_En" : "Role_Ar")" Title="@translationState.Translate("Role")" Width="150px" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "UserTypeEnglish" : "UserTypeArabic")" Title="@translationState.Translate("User_Type")" Width="150px" />
                                        </Columns>
                                    </RadzenDataGrid>
                                </RadzenCard>
                            </ContentTemplate>
                            <ChildContent>
                                <TabHeader Text="@translationState.Translate("Assign_Users_To_Group")"></TabHeader>
                            </ChildContent>
                        </TabItem>
                    }

                    @if (GroupId != null)
                    {
                        <TabItem>
                            <ContentTemplate>
                                <RadzenCard>
                                    @if (GroupUsersFilteredList.Any(tsk => tsk.IsUserHasAnyTask == true))
                                    {
                                        <div class="row">
                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                <div class="rz-alert rz-alert-sm rz-variant-flat rz-warning rz-shade-lighter" aria-live="polite">
                                                    <div class="rz-alert-item">
                                                        <i style="" class="rzi rz-alert-icon" id="4zgarvf6ik" _bl_480="">info_outline</i>
                                                        <div class="rz-alert-message">
                                                            <div class="rz-alert-content">
                                                                <p class="m-0" style="font-size: 15px;">@(translationState.Translate("Disabled_Assigned_Users"))</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                    <div class="row">
                                        <div class="col-md-4">
                                            <RadzenTextBox Placeholder="@translationState.Translate("Grid_Search")" style="display: block; margin-bottom: 10px; width: 100%" Name="Textbox0"
                                            @oninput="@(async(args) => { await grid1.GoToPage(0);await SearchGroupUsers($"{args.Value}");})" />
                                        </div>

                                        <div class="col-md-8 text-right-custom-gridcolumn">
                                        </div>
                                    </div>
                                    <RadzenDataGrid EmptyText="@translationState.Translate("No_record_found")"
                                    @ref="grid1"
                                                    AllowRowSelectOnRowClick="false"
                                                    AllowFiltering="false"
                                                    FilterMode="Radzen.FilterMode.Advanced"
                                                    AllowPaging="true"
                                                    AllowSorting="true"
                                                    ColumnWidth="230px"
                                                    SelectionMode="DataGridSelectionMode.Multiple"
                                                    Data="@GroupUsersFilteredList"
                                                    TItem="UserListGroupVM"
                                                    PageSize="@loginState.PageSize"
                                                    PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                    @bind-Value="UsersWithExistingGroups"
                                                    Count="@(GroupUsersFilteredList != null ? GroupUsersFilteredList.Count() : 0)"
                                                    PageSizeText="@translationState.Translate("Items_Per_Page")"
                                                    PageSizeOptions="@systemSettingState.Page_Size_Options"
                                                    PagingSummaryFormat="@(translationState.PageSummaryFormat != null ? translationState.PageSummaryFormat : "")"
                                                    ShowPagingSummary="true">
                                        <Columns>
                                            @if (!IsView)
                                            {
                                                <RadzenDataGridColumn TItem="UserListGroupVM" Property="FirstNameEnglish" Width="40px" Sortable="false" Filterable="false">
                                                    <HeaderTemplate>
                                                        <RadzenCheckBox Visible="GroupId==null" Disabled="IsView" TriState="false" TValue="bool" Value="@(GroupUsersFilteredList.Any(i => UsersWithExistingGroups != null && UsersWithExistingGroups.Contains(i)))"
                                                                        Change="@(args => UsersWithExistingGroups = args ? GroupUsersFilteredList.ToList() : null)" />
                                                    </HeaderTemplate>
                                                    <Template Context="data">
                                                        <RadzenCheckBox Disabled="@(IsView == true || data.IsUserHasAnyTask)" TriState="false" Value="@(UsersWithExistingGroups != null && UsersWithExistingGroups.Contains(data))"
                                                                        TValue="bool" Change=@(args => grid1.SelectRow(data)) />
                                                    </Template>
                                                </RadzenDataGridColumn>
                                            }
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Title="@translationState.Translate("Full_Name")" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "FullName_En" : "FullName_Ar")" Width="150px" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "SectorTypeName_En" : "SectorTypeName_Ar")" Title="@translationState.Translate("Sector_Name")" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Designation_En" : "Designation_Ar")" Title="@translationState.Translate("Designation")" Width="150px" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Role_En" : "Role_Ar")" Title="@translationState.Translate("Role")" Width="150px" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "UserTypeEnglish" : "UserTypeArabic")" Title="@translationState.Translate("User_Type")" />
                                            <RadzenDataGridColumn TItem="UserListGroupVM" Property="ADUsername" Title="@translationState.Translate("Login_Id")" />
                                        </Columns>
                                    </RadzenDataGrid>
                                </RadzenCard>
                            </ContentTemplate>
                            <ChildContent>
                                <TabHeader Text="@translationState.Translate("Assigned_Users")"></TabHeader>
                            </ChildContent>
                        </TabItem>
                    }
                    @if (visible)
                    {
                        <TabItem>
                            <ContentTemplate>
                                <SfTab OverflowMode="OverflowMode.Scrollable" LoadOn="ContentLoad.Dynamic" ScrollStep="200" EnableRtl="isRTL">
                                    <TabAnimationSettings>
                                        <TabAnimationPrevious Effect="AnimationEffect.None"></TabAnimationPrevious>
                                        <TabAnimationNext Effect="AnimationEffect.None"></TabAnimationNext>
                                    </TabAnimationSettings>
                                    <TabItems>
                                        @* Shared Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Shared_Permissions") + (Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.SideMenu
                                                     || m.ModuleId == (int)ModuleEnum.FatwaDashboard
                                                     || m.ModuleId == (int)ModuleEnum.Task
                                                     || m.ModuleId == (int)ModuleEnum.AuditLogs
                                                     || m.ModuleId == (int)ModuleEnum.Notification
                                                     || m.ModuleId == (int)ModuleEnum.TimeLog
                                                     || m.ModuleId == (int)ModuleEnum.Notification).Count() != 0

                                                     ? " (" + Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.SideMenu
                                                     || m.ModuleId == (int)ModuleEnum.FatwaDashboard
                                                     || m.ModuleId == (int)ModuleEnum.Task
                                                     || m.ModuleId == (int)ModuleEnum.AuditLogs
                                                     || m.ModuleId == (int)ModuleEnum.Notification
                                                     || m.ModuleId == (int)ModuleEnum.TimeLog
                                                     || m.ModuleId == (int)ModuleEnum.Notification).Count() + ")" : ""))" />
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Shared_Common_Permissions")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(
                                                     m => m.ModuleId == (int)ModuleEnum.SideMenu
                                                     || m.ModuleId == (int)ModuleEnum.FatwaDashboard
                                                     || m.ModuleId == (int)ModuleEnum.Task
                                                     || m.ModuleId == (int)ModuleEnum.AuditLogs
                                                     || m.ModuleId == (int)ModuleEnum.Notification
                                                     || m.ModuleId == (int)ModuleEnum.TimeLog
                                                     || m.ModuleId == (int)ModuleEnum.Notification)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records") &nbsp;</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Shared Permissions End *@


                                        @* Admin Portal Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("FATWA_ADMINISTRATION_PORTAL") +" "+ translationState.Translate("Permissions") + (Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.AdminPortal).Count() != 0
                                                     ? " (" + Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.AdminPortal).Count() + ")" : ""))" />
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@(translationState.Translate("FATWA_ADMINISTRATION_PORTAL") +" "+ translationState.Translate("Permissions"))" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(
                                                     m => m.ModuleId == (int)ModuleEnum.AdminPortal)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records") &nbsp;</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Admin Portal Permissions End *@



                                        @* Workflow Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Workflow_Management") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.Workflow).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.Workflow).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Workflow_Management")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.Workflow)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Workflow Permissions End *@

                                        @* User Management Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("User_Management") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.UserManagement).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.UserManagement).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("System_User_Management")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.UserManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* User Management Permissions End *@

                                        @* Digital Signature Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Digital_Signature") + (Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.DigitalSignature).Count() != 0
                                                          ? " (" + Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.DigitalSignature).Count() + ")" : ""))" />
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Digital_Signature_Permissions")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m => m.ModuleId == (int)ModuleEnum.DigitalSignature)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records") &nbsp;</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Digital Signature Permissions End *@

                                        @* Employee Management Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Employee_Management") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.EmployeeManagement).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.EmployeeManagement).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Employee_Management_System")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.EmployeeManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Employee Management Permissions End *@

                                        @* Inventory Management Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Inventory_Management") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.InventoryManagement).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.InventoryManagement).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Inventory_Management_System")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.InventoryManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Inventory Management Permissions End *@

                                        @* On-demand Request Portal Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("On_Demand_Request_Portal") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.ODRP).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.ODRP).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("On_Demand_Request_Portal")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.ODRP)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* On-demand Request Portal Permissions End *@

                                        @* Case Management Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Case_Management") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.CaseManagement).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.CaseManagement).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Case_Management_System")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.CaseManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Case Management Permissions End *@

                                        @* Consultation Management Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Consultation_Management") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.ConsultationManagement).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.ConsultationManagement).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Consultation_Management_System")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.ConsultationManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Consultation Management Permissions End *@

                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Case_Consultation_Shared") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.CMSCOMS).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.CMSCOMS).Count() +")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Case_Consultation_Management_Shared")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.CMSCOMS)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>

                                        @* Document Management Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Document_Management") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.DocumentManagement).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.DocumentManagement).Count() + ")": ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Document_Management_System")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.DocumentManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Document Management Permissions End *@

                                        @* LLS Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Legal_Library_System") + " " + (Group.GroupClaims?.Where(
                                                        m => m.ModuleId == (int)ModuleEnum.LegalPrinciplesManagement
                                                     || m.ModuleId == (int)ModuleEnum.LegislationManagement
                                                     || m.ModuleId == (int)ModuleEnum.LibraryManagement).Count() != 0

                                                     ? " (" + Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.LegalPrinciplesManagement
                                                     || m.ModuleId == (int)ModuleEnum.LegislationManagement
                                                     || m.ModuleId == (int)ModuleEnum.LibraryManagement).Count() + ")" : ""))" />
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Legal_Library_System")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(
                                                     m => m.ModuleId == (int)ModuleEnum.LegalPrinciplesManagement
                                                     || m.ModuleId == (int)ModuleEnum.LegislationManagement
                                                     || m.ModuleId == (int)ModuleEnum.LibraryManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* LLS Permissions End *@

                                        @* Meeting Permissions Start*@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Meetings") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.Meeting).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.Meeting).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Meetings")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.Meeting)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Meeting Permissions End*@

                                        @* Communication Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Communication_Tab") + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.Communication).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.Communication).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Communication_Tab")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.Communication)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records") &nbsp;</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Communication Permissions End *@

                                        @* Contact Management Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Contact_Management") + (Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.ContactManagement).Count() != 0

                                                     ? " (" + Group.GroupClaims?.Where(m => m.ModuleId == (int)ModuleEnum.ContactManagement).Count() + ")" : ""))" />
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Contact_Management")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(
                                                     m => m.ModuleId == (int)ModuleEnum.ContactManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records") &nbsp;</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Contact Management Permissions End *@

                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Vendor_Contract_SideMenu_Heading") + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.VendorContractManagement).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.VendorContractManagement).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Vendor_Contract_SideMenu_Heading")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.VendorContractManagement)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records") &nbsp;</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Vendor Contract Permissions End *@

                                        @* Organizing Committee Permissions Start *@

                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Organizing_Committee_SideMenu_Heading") + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.OrganizingCommittee).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.OrganizingCommittee).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Organizing_Committee_SideMenu_Heading")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.OrganizingCommittee)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records") &nbsp;</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Organizing Committee Permissions End *@

                                        @*Service Request Permissions Start *@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Service_Request") + " " + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.ServiceRequest).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.ServiceRequest).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Service_Request")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.ServiceRequest)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module" || context.GroupDescriptor.GetTitle() == "الوحدة")
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="title-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" class="data-column">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records")</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Service Request Permissions End *@
                                        @* Bug Reporting Permission Start*@
                                        <TabItem>
                                            <ChildContent>
                                                <TabHeader Text="@(translationState.Translate("Bug_Reporting") + (Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.BugReporting).Count() != 0 ? " (" + Group.GroupClaims?.Where(m=>m.ModuleId==(int)ModuleEnum.BugReporting).Count() + ")" : ""))"></TabHeader>
                                            </ChildContent>
                                            <ContentTemplate>
                                                <div class="row grid-row-permissions">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-4">
                                                        <RadzenHeading Size="H4" Text="@translationState.Translate("Bug_Reporting")" />
                                                        <RadzenDataGrid @ref="grid"
                                                                        AllowGrouping="true" Render="@OnRender"
                                                                        GroupRowRender="(args) => OnGroupRowRender(args)"
                                                                        Data="@claimsResults?.Where(m=>m.ModuleId==(int)ModuleEnum.BugReporting)"
                                                                        TItem="ClaimVM"
                                                        @bind-Value=@Group.GroupClaims
                                                                        SelectionMode="DataGridSelectionMode.Multiple"
                                                                        ColumnWidth="180px"
                                                                        AllowRowSelectOnRowClick="@allowRowSelectOnRowClick"
                                                                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                                        EmptyText="@translationState.Translate("No_record_found")"
                                                                        AllowFiltering="false"
                                                                        FilterMode="Radzen.FilterMode.Advanced"
                                                                        AllowPaging="false"
                                                                        AllowSorting="true"
                                                                        PageSize="@loginState.PageSize"
                                                                        PagerHorizontalAlign="Radzen.HorizontalAlign.Center"
                                                                        Count="@(claimsResults != null ? claimsResults.Count() : 0)">
                                                            <GroupHeaderTemplate>
                                                                <table class="rz-grid-table rz-grid-table-fixed permissions-table">
                                                                    <colgroup>
                                                                        @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE1-col">
                                                                        }
                                                                        else
                                                                        {
                                                                            <col id="sgcWGgbCPE0-col">
                                                                            <col id="sgcWGgbCPE0-col">
                                                                        }
                                                                    </colgroup>
                                                                    <tbody>
                                                                        <tr class="">
                                                                            @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                            {
                                                                                <td rowspan="1" colspan="1" style="width:214px;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td rowspan="1" colspan="1" style="width:180px;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                    <span class="rz-cell-data" title=""> @translationState.Translate(context.Data.Key ?? "")</span>
                                                                                </td>
                                                                            }
                                                                            <td rowspan="1" colspan="1" style="width:100px;text-align:center;background: linear-gradient(180deg, #c6d7fa, #c6d7fa);">
                                                                                @if (context.GroupDescriptor.GetTitle() == "Module")
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.Module == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.Module == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Module))" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span></span> <RadzenCheckBox Disabled="IsView" TriState="false" TValue="bool" Value="@(getGroupClaimsResults.Where(x => x.SubModule == context.Data.Key).Count() == Group.GroupClaims?.Where(x => x.SubModule == context.Data.Key).Count() ? true : false)" Change="@(args => SelectAllPermissions(args, context.Data.Key, SelectPermissionType.Submodule))" />
                                                                                }
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </GroupHeaderTemplate>
                                                            <Columns>
                                                                <RadzenDataGridColumn TItem="ClaimVM" Property="@(Thread.CurrentThread.CurrentUICulture.Name == "en-US" ? "Title_En" : "Title_Ar")" Title="@translationState.Translate("Title")" Groupable="false">
                                                                    <FooterTemplate> <b>@translationState.Translate("Total_Records") &nbsp;</b>@claimsResults?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                                <RadzenDataGridColumn TItem="ClaimVM" TextAlign="TextAlign.Center" Title="@translationState.Translate("Action")" Width="100px" Sortable="false" Filterable="false" Groupable="false">
                                                                    <HeaderTemplate>
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" TValue="bool" Value="@(claimsResults?.Count() == Group.GroupClaims?.Count() ? true : false)"
                                                                                        Change="@(args => SelectAllPermissions(args, null, SelectPermissionType.All))" />
                                                                    </HeaderTemplate>
                                                                    <Template Context="data">
                                                                        <RadzenCheckBox TriState="false" Disabled="IsView" Value="@(Group.GroupClaims != null && Group.GroupClaims.Contains(data))"
                                                                                        TValue="bool" Change=@(args => { if(!allowRowSelectOnRowClick) { grid.SelectRow(data); }}) />
                                                                    </Template>
                                                                    <FooterTemplate> <b>@translationState.Translate("Selected"):</b> @Group.GroupClaims?.Count()</FooterTemplate>
                                                                </RadzenDataGridColumn>
                                                            </Columns>
                                                        </RadzenDataGrid>
                                                    </div>
                                                </div>
                                            </ContentTemplate>
                                        </TabItem>
                                        @* Bug Reporting Permission End *@
                                    </TabItems>
                                </SfTab>
                            </ContentTemplate>
                            <ChildContent>
                                <TabHeader Text="@translationState.Translate("Permissions")"></TabHeader>
                            </ChildContent>
                        </TabItem>
                    }
                </TabItems>
            </SfTab>
        </div>
        <div class="row p-3">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 popup-buttons-alignment">
                @if (!IsView)
                {
                    <RadzenButton Style="margin-left: 10px; margin-right: 10px;"
                                  ButtonType="Radzen.ButtonType.Submit"
                                  ButtonStyle="ButtonStyle.Primary"
                                  Click="@(GroupId == null ? SaveUmsUserGroup : UpdateUmsUserGroup)"
                                  Text="@(GroupId == null ? translationState.Translate("Create_Group") : translationState.Translate("Update_Group"))" />
                }
                <RadzenButton ButtonStyle="ButtonStyle.Light"
                              Text="@(IsView == true ? @translationState.Translate("Back") : @translationState.Translate("Cancel"))"
                              Click="@CancelChanges" />
            </div>
        </div>
    </RadzenCard>
}
else
{
    <div class="demo-alert demo-alert-error" role="alert">@translationState.Translate("Unauthorized")</div>
}
@code {
    public RenderFragment DynamicContent = builder =>
    {
        builder.AddContent(1, "");
    };
}

<style>
    .e-tab .e-tab-header .e-toolbar-item.e-active {
        background-color: #eff6ff;
    }

    .e-tab .e-tab-header[style*="overflow: hidden"] {
        margin-top: 35px !important;
    }

    .e-tab .e-tab-header:not(.e-vertical) .e-toolbar-item.e-active {
        border-bottom: 2.5px solid #0079f3;
    }

    .e-tab .e-tab-header .e-scroll-nav .e-nav-arrow, .e-tab .e-tab-header .e-hscroll:not(.e-scroll-device) .e-scroll-nav .e-nav-arrow {
        color: #fff !important;
        background-color: #025ce2 !important;
    }

    .e-tab-text {
        font-weight: 500 !important;
        text-transform: capitalize !important;
    }

    .e-tab .e-tab-header .e-toolbar-item.e-active.e-ileft .e-tab-text {
        color: #0079f3;
    }

    .e-tab .e-tab-header .e-toolbar-item .e-tab-wrap {
        color: #3f3d3d;
    }

    .e-progress {
        transition: none;
    }

    .rz-tabview-top > .rz-tabview-nav {
        flex: 0 0 auto;
        overflow-x: auto;
        overflow-y: hidden;
    }

    .rz-tabview {
        flex: 1;
        overflow: hidden;
    }

    .rz-tabview-top > .rz-tabview-nav li {
        margin-left: 2px;
    }

    .rz-tabview-nav li a {
        font-size: 0.8rem !important;
        font-weight: 600;
    }

    .rz-tabview-top > .rz-tabview-nav li {
        padding-right: 12px;
        padding: 4px;
        padding-top: 8px;
        padding-bottom: 8px;
        text-align: center;
    }

    .rz-tabview-nav li a {
        display: ruby;
        text-align: center;
    }

    .grid-row-permissions td[colspan="3"] {
        padding-left: 3px !important;
    }

    .grid-row-permissions td[colspan="2"] {
        padding-left: 3px !important;
    }

</style>